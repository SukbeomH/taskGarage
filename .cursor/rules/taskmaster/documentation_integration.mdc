# TaskGarage ë¬¸ì„œ ë™ê¸°í™” í†µí•© ê·œì¹™

ì´ ê·œì¹™ì€ TaskGarage ì›Œí¬í”Œë¡œìš°ì— ë¬¸ì„œ ì—…ë°ì´íŠ¸ë¥¼ ì™„ì „íˆ í†µí•©í•˜ì—¬ ì½”ë“œì™€ ë¬¸ì„œì˜ 100% ë™ê¸°í™”ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.

## ğŸ“ ë¬¸ì„œ ì—…ë°ì´íŠ¸ íŠ¸ë¦¬ê±° ê°ì§€

### ì½”ë“œ ë³€ê²½ ìœ í˜•ë³„ ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”ì„±

#### 1. **êµ¬ì¡°ì²´ í•„ë“œ ë³€ê²½**
```go
// ê°ì§€ íŒ¨í„´: ìƒˆë¡œìš´ í•„ë“œ, íƒœê·¸ ë³€ê²½, íƒ€ì… ë³€ê²½
type Config struct {
    NewField string `json:"newField" yaml:"newField"` // â† ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”
}
```

#### 2. **í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½**
```go
// ê°ì§€ íŒ¨í„´: ë§¤ê°œë³€ìˆ˜ ì¶”ê°€/ì œê±°, ë°˜í™˜ê°’ ë³€ê²½
func ValidateGPUQuota(ctx context.Context, realm, project string) *ValidationError {
    // â† ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”
}
```

#### 3. **ì—ëŸ¬ ì½”ë“œ/ë©”ì‹œì§€ ë³€ê²½**
```go
// ê°ì§€ íŒ¨í„´: ìƒˆë¡œìš´ ì—ëŸ¬ ì½”ë“œ, ë©”ì‹œì§€ ìˆ˜ì •
const ErrCodeNewValidation = "NewValidation" // â† ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”
```

#### 4. **ì„¤ì • ë³€ê²½**
```go
// ê°ì§€ íŒ¨í„´: í™˜ê²½ë³€ìˆ˜ ì¶”ê°€, ì„¤ì • êµ¬ì¡° ë³€ê²½
NewSetting: loadConfig("NEW_SETTING"), // â† ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”
```

#### 5. **API ì—”ë“œí¬ì¸íŠ¸ ë³€ê²½**
```go
// ê°ì§€ íŒ¨í„´: ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸, ì‘ë‹µ í˜•ì‹ ë³€ê²½
func (s *Server) NewEndpoint(w http.ResponseWriter, r *http.Request) {
    // â† ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”
}
```

## ğŸ”„ ì›Œí¬í”Œë¡œìš° í†µí•©

### ê¸°ì¡´ 8ë‹¨ê³„ â†’ ìƒˆë¡œìš´ 10ë‹¨ê³„ í™•ì¥

**7ë‹¨ê³„: Update Documentation** (ìƒˆë¡œ ì¶”ê°€)
- **ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”ì„± í‰ê°€**: ì½”ë“œ ë³€ê²½ ì‚¬í•­ì— ë”°ë¥¸ ë¬¸ì„œ ì—…ë°ì´íŠ¸ í•„ìš”ì„± íŒë‹¨
- **ìë™í™”ëœ ë¬¸ì„œ ìƒì„±**: ë‚´ì¥ ë¡œì§ì„ í†µí•œ ë¬¸ì„œ ë™ê¸°í™” ì‹¤í–‰
- **ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ ê²€ì¦**: ìƒì„±ëœ ë¬¸ì„œì˜ ì •í™•ì„± ë° ì™„ì„±ì„± ê²€ì¦
- **ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ ì‹œ task ìƒíƒœë¥¼ 'review'ë¡œ ë³€ê²½**: ë¬¸ì„œ ë™ê¸°í™”ê°€ ì‹¤íŒ¨í•œ ê²½ìš° task ì™„ë£Œ ì°¨ë‹¨
- **ë¬¸ì„œ ì—…ë°ì´íŠ¸ ìƒíƒœë¥¼ subtaskì— ê¸°ë¡**: `update_subtask`ë¥¼ í†µí•´ ë¬¸ì„œ ë™ê¸°í™” ì§„í–‰ ìƒí™© ë¡œê¹…

**8ë‹¨ê³„: Self Review** (ìƒˆë¡œ ì¶”ê°€)
- **ê²°ê³¼ë¬¼ í’ˆì§ˆ ê²€í† **: êµ¬í˜„ëœ ê²°ê³¼ë¬¼ì´ task/subtaskì˜ ìƒì„± ì˜ë„ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ìì²´ ê²€í† 
- **ìš”êµ¬ì‚¬í•­ ì¶©ì¡±ë„ í™•ì¸**: ì›ë˜ ìš”êµ¬ì‚¬í•­ê³¼ ê¸°ëŠ¥ì  ì™„ì„±ë„ ê²€ì¦
- **ì½”ë“œ í’ˆì§ˆ ê²€í† **: ì½”ë“œ ìŠ¤íƒ€ì¼, ì„±ëŠ¥, ë³´ì•ˆ, ìœ ì§€ë³´ìˆ˜ì„± ì¸¡ë©´ ê²€í† 
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸**: ì ì ˆí•œ í…ŒìŠ¤íŠ¸ê°€ ì‘ì„±ë˜ì—ˆëŠ”ì§€ ê²€ì¦
- **ë¬¸ì„œí™” ì™„ì„±ë„ í™•ì¸**: ì½”ë“œ ì£¼ì„, README, API ë¬¸ì„œ ë“±ì´ ì¶©ë¶„í•œì§€ ê²€í† 
- **ê²€í†  ê²°ê³¼ ê¸°ë¡**: `update_subtask`ë¥¼ í†µí•´ ê²€í†  ê²°ê³¼ì™€ ê°œì„  ì‚¬í•­ ë¡œê¹…

## ğŸ› ï¸ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ í†µí•©

### ê¸°ì¡´ íŒ¨í„´ ì¤€ìˆ˜

#### 1. **ë‚´ì¥ ë¡œì§ ì‚¬ìš©**
```javascript
// âœ… DO: ê¸°ì¡´ íŒ¨í„´ ì‚¬ìš©
import { executeTaskMasterCommand } from '../utils.js';

// âŒ DON'T: execSync ì§ì ‘ ì‚¬ìš©
const { execSync } = require('child_process');
```

#### 2. **MCP í†µí•© íŒ¨í„´**
```javascript
// âœ… DO: MCP í†µí•© íŒ¨í„´
const result = await executeTaskMasterCommand('generate', log, [], projectRoot);

// âŒ DON'T: ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ì§ì ‘ í˜¸ì¶œ
execSync('./scripts/sync_docs_for_task.sh');
```

#### 3. **ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´**
```javascript
// âœ… DO: ê¸°ì¡´ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´
try {
    // ë¬¸ì„œ ë™ê¸°í™” ë¡œì§
} catch (error) {
    log('warning', `ë¬¸ì„œ ë™ê¸°í™” ì‹¤íŒ¨: ${error.message}`);
    return false;
}
```

## ğŸ“‹ êµ¬í˜„ ê°€ì´ë“œë¼ì¸

### 1. **ì½”ë“œ ë³€ê²½ ê°ì§€ í•¨ìˆ˜**
```javascript
/**
 * Check if the prompt contains code changes that require documentation updates
 * @param {string} prompt - The prompt to analyze
 * @returns {Promise<boolean>} - True if code changes are detected
 */
async function checkForCodeChanges(prompt) {
    // ê¸°ì¡´ íŒ¨í„´ì— ë§ëŠ” ì •ê·œì‹ íŒ¨í„´ ì‚¬ìš©
    const codeChangePatterns = [
        /type\s+\w+\s+struct|struct\s+\w+\s*{/i,
        /func\s+\w+\s*\(|function\s+\w+\s*\(/i,
        /ErrCode|Error|error|const\s+\w+\s*=/i,
        /config|Config|ENV|environment|loadConfig|NewConfig/i,
        /endpoint|Endpoint|API|api/i
    ];
    
    return codeChangePatterns.some(pattern => pattern.test(prompt));
}
```

### 2. **ë¬¸ì„œ ê²€ì¦ í•¨ìˆ˜**
```javascript
/**
 * Check if documentation is validated for a task
 * @param {string} taskId - The task ID to check
 * @param {Object} data - The tasks data
 * @param {string} projectRoot - The project root directory
 * @returns {Promise<boolean>} - True if documentation is validated
 */
async function checkDocumentationValidation(taskId, data, projectRoot) {
    try {
        // ê¸°ì¡´ íŒ¨í„´ì— ë§ëŠ” ê²€ì¦ ë¡œì§
        const task = findTaskById(taskId, data);
        if (!task) return true; // taskê°€ ì—†ìœ¼ë©´ ê²€ì¦ í†µê³¼
        
        // ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ í™•ì¸
        const hasCodeChanges = await checkForCodeChanges(task.details || '');
        if (!hasCodeChanges) return true; // ì½”ë“œ ë³€ê²½ì´ ì—†ìœ¼ë©´ ê²€ì¦ í†µê³¼
        
        // ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ ì—¬ë¶€ í™•ì¸
        return await verifyDocumentationSync(taskId, projectRoot);
    } catch (error) {
        return false; // ì—ëŸ¬ ë°œìƒ ì‹œ ê²€ì¦ ì‹¤íŒ¨
    }
}
```

### 3. **ë¬¸ì„œ ë™ê¸°í™” ì‹¤í–‰**
```javascript
/**
 * Execute documentation synchronization
 * @param {string} taskId - The task ID
 * @param {string} prompt - The task details
 * @param {string} projectRoot - The project root directory
 * @param {Object} log - Logger instance
 * @returns {Promise<boolean>} - True if successful
 */
async function executeDocumentationSync(taskId, prompt, projectRoot, log) {
    try {
        // ê¸°ì¡´ executeTaskMasterCommand íŒ¨í„´ ì‚¬ìš©
        const result = await executeTaskMasterCommand(
            'generate', 
            log, 
            ['--tag', 'master'], 
            projectRoot
        );
        
        if (result.success) {
            log('info', `ğŸ“ Task ${taskId} ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ`);
            return true;
        } else {
            log('warning', `ğŸ“ Task ${taskId} ë¬¸ì„œ ë™ê¸°í™” ì‹¤íŒ¨: ${result.error}`);
            return false;
        }
    } catch (error) {
        log('error', `ğŸ“ Task ${taskId} ë¬¸ì„œ ë™ê¸°í™” ì˜¤ë¥˜: ${error.message}`);
        return false;
    }
}
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ íŒ¨í„´

### ê¸°ì¡´ í…ŒìŠ¤íŠ¸ íŒ¨í„´ ì¤€ìˆ˜
```javascript
// âœ… DO: ê¸°ì¡´ í…ŒìŠ¤íŠ¸ íŒ¨í„´ ì‚¬ìš©
import { jest } from '@jest/globals';

jest.mock('child_process', () => ({
    execSync: jest.fn()
}));

// âŒ DON'T: ìƒˆë¡œìš´ ëª¨í‚¹ íŒ¨í„´ ë„ì…
jest.mock('./scripts/sync_docs_for_task.sh');
```

## ğŸ“Š ìƒíƒœ ê´€ë¦¬

### ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ í•„ë“œ
```javascript
// task ê°ì²´ì— ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ ì¶”ê°€
const task = {
    id: taskId,
    title: "Task title",
    status: "pending",
    // ... ê¸°ì¡´ í•„ë“œë“¤
    documentationSync: {
        required: false,
        completed: false,
        lastAttempt: null,
        error: null
    }
};
```

## ğŸ”„ ì›Œí¬í”Œë¡œìš° í†µí•© ì 

### 1. **update_subtask í†µí•©**
- ì½”ë“œ ë³€ê²½ ê°ì§€ ì‹œ ìë™ ë¬¸ì„œ ë™ê¸°í™” ì‹¤í–‰
- ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœë¥¼ subtaskì— ê¸°ë¡
- ì‹¤íŒ¨ ì‹œ ê²½ê³  ë©”ì‹œì§€ ì¶œë ¥

### 2. **set_task_status í†µí•©**
- 'done' ìƒíƒœ ë³€ê²½ ì‹œ ë¬¸ì„œ ê²€ì¦ ì‹¤í–‰
- ë¬¸ì„œ ë™ê¸°í™” ë¯¸ì™„ë£Œ ì‹œ 'review' ìƒíƒœë¡œ ë³€ê²½
- ë¬¸ì„œ ë™ê¸°í™” ì™„ë£Œ ì‹œ ì •ìƒì ìœ¼ë¡œ 'done' ìƒíƒœë¡œ ë³€ê²½

### 3. **generate ëª…ë ¹ì–´ í™œìš©**
- ê¸°ì¡´ `generate` ëª…ë ¹ì–´ë¥¼ í™œìš©í•œ ë¬¸ì„œ ë™ê¸°í™”
- ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ëŒ€ì‹  ë‚´ì¥ ë¡œì§ ì‚¬ìš©
- MCP í†µí•© í™˜ê²½ì—ì„œ ì•ˆì •ì  ë™ì‘

## ğŸ¯ ì„±ê³µ ì§€í‘œ

### ë¬¸ì„œ ë™ê¸°í™” ì„±ê³µ ê¸°ì¤€
1. **ì½”ë“œ ë³€ê²½ ê°ì§€**: ì •í™•í•œ ì½”ë“œ ë³€ê²½ íŒ¨í„´ ì¸ì‹
2. **ë¬¸ì„œ ìƒì„±**: ê´€ë ¨ ë¬¸ì„œ íŒŒì¼ ìë™ ìƒì„±/ì—…ë°ì´íŠ¸
3. **ìƒíƒœ ê´€ë¦¬**: task ìƒíƒœì™€ ë¬¸ì„œ ë™ê¸°í™” ìƒíƒœ ì¼ì¹˜
4. **ì—ëŸ¬ ì²˜ë¦¬**: ë¬¸ì„œ ë™ê¸°í™” ì‹¤íŒ¨ ì‹œ ì ì ˆí•œ ìƒíƒœ ë³€ê²½
5. **ë¡œê¹…**: ë¬¸ì„œ ë™ê¸°í™” ê³¼ì •ì˜ ìƒì„¸í•œ ë¡œê·¸ ê¸°ë¡

### í’ˆì§ˆ ë³´ì¦
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: ë¬¸ì„œ ë™ê¸°í™” ë¡œì§ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì „ì²´ ì›Œí¬í”Œë¡œìš°ì—ì„œì˜ ë¬¸ì„œ ë™ê¸°í™” ê²€ì¦
- **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ë¬¸ì„œ ë™ê¸°í™” ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
- **ì‚¬ìš©ì í”¼ë“œë°±**: ë¬¸ì„œ ë™ê¸°í™” ê²°ê³¼ì— ëŒ€í•œ ì‚¬ìš©ì í™•ì¸

---

ì´ ê·œì¹™ì„ ë”°ë¼ TaskGarage ì›Œí¬í”Œë¡œìš°ì— ë¬¸ì„œ ì—…ë°ì´íŠ¸ë¥¼ ì™„ì „íˆ í†µí•©í•˜ì—¬ ì½”ë“œì™€ ë¬¸ì„œì˜ ì¼ê´€ì„±ì„ ë³´ì¥í•˜ì„¸ìš”.
description:
globs:
alwaysApply: true
---
